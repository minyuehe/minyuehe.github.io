<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"minyuehe.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="深入理解create-react-app 这是一个官方文档提供的新手使用的脚手架">
<meta property="og:type" content="article">
<meta property="og:title" content="react实践入门">
<meta property="og:url" content="http://minyuehe.github.io/2020/10/24/react-shi-jian-ru-men/index.html">
<meta property="og:site_name" content="忞月の博客">
<meta property="og:description" content="深入理解create-react-app 这是一个官方文档提供的新手使用的脚手架">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://minyuehe.github.io/2020/10/24/react-shi-jian-ru-men/%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90.png">
<meta property="og:image" content="http://minyuehe.github.io/2020/10/24/react-shi-jian-ru-men/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0.png">
<meta property="og:image" content="http://minyuehe.github.io/2020/10/24/react-shi-jian-ru-men/fiddler.png">
<meta property="og:image" content="http://minyuehe.github.io/2020/10/24/react-shi-jian-ru-men/TransitionGroup.png">
<meta property="og:image" content="http://minyuehe.github.io/2020/10/24/react-shi-jian-ru-men/Redux.png">
<meta property="og:image" content="http://minyuehe.github.io/2020/10/24/react-shi-jian-ru-men/redux%E4%B8%AD%E9%97%B4%E4%BB%B6.png">
<meta property="article:published_time" content="2020-10-24T14:44:20.000Z">
<meta property="article:modified_time" content="2021-03-27T08:27:36.459Z">
<meta property="article:author" content="忞月">
<meta property="article:tag" content="实践">
<meta property="article:tag" content="react">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://minyuehe.github.io/2020/10/24/react-shi-jian-ru-men/%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90.png">

<link rel="canonical" href="http://minyuehe.github.io/2020/10/24/react-shi-jian-ru-men/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>react实践入门 | 忞月の博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <script src="https://cdn.jsdelivr.net/gh/minyue-hcm/live2d-widget@1.0.3/autoload.js"></script>
<style type="text/css" lang="css">
    #loading-container{
        position: fixed;
        top: 0;
        left: 0;
        min-height: 100vh;
        width: 100vw;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: #FFF;
        text-align: center;
        /* loader页面消失采用渐隐的方式*/
        -webkit-transition: opacity 1s ease;
        -moz-transition: opacity 1s ease;
        -o-transition: opacity 1s ease;
        transition: opacity 1s ease;
    }
    .loading-image{
        width: 120px;
        height: 50px;
        transform: translate(-50%);
    }
    
    .loading-image div:nth-child(2) {
        -webkit-animation: pacman-balls 1s linear 0s infinite;
        animation: pacman-balls 1s linear 0s infinite
    }

    .loading-image div:nth-child(3) {
        -webkit-animation: pacman-balls 1s linear .33s infinite;
        animation: pacman-balls 1s linear .33s infinite
    }

    .loading-image div:nth-child(4) {
        -webkit-animation: pacman-balls 1s linear .66s infinite;
        animation: pacman-balls 1s linear .66s infinite
    }

    .loading-image div:nth-child(5) {
        -webkit-animation: pacman-balls 1s linear .99s infinite;
        animation: pacman-balls 1s linear .99s infinite
    }
    
   .loading-image div:first-of-type {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_up .5s 0s infinite;
        animation: rotate_pacman_half_up .5s 0s infinite;
    }
    .loading-image div:nth-child(2) {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_down .5s 0s infinite;
        animation: rotate_pacman_half_down .5s 0s infinite;
        margin-top: -50px;
    }
    @-webkit-keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @-webkit-keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}

    @keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}
    
    @-webkit-keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}

    @keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}
    
   
    .loading-image div:nth-child(3),
    .loading-image div:nth-child(4),
    .loading-image div:nth-child(5),
    .loading-image div:nth-child(6){
        background-color: #49b1f5;
        width: 15px;
        height: 15px;
        border-radius: 100%;
        margin: 2px;
        width: 10px;
        height: 10px;
        position: absolute;
        transform: translateY(-6.25px);
        top: 25px;
        left: 100px;
    }
    .loading-text{
        margin-bottom: 20vh;
        text-align: center;
        color: #2c3e50;
        font-size: 2rem;
        box-sizing: border-box;
        padding: 0 10px;
        text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    @media only screen and (max-width: 500px) {
         .loading-text{
            font-size: 1.5rem;
         }
    }
    .fadeout {
        opacity: 0;
        filter: alpha(opacity=0);
    }
    /* logo出现动画 */
    @-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}100%{opacity:1;-webkit-transform:none;transform:none}}
    @keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);}}
 </style>
 <script>
(function () {
    const loaded = function(){
       setTimeout(function(){
            const loader = document.getElementById("loading-container");
            loader.className="fadeout" ;//使用渐隐的方法淡出loading page
            // document.getElementById("body-wrap").style.display="flex";
            setTimeout(function(){
                loader.style.display="none";
            },1000); 
        },1000);//强制显示loading page 1s  
    };
    loaded();
})()
 </script>
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">忞月の博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">要快乐哦！</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://minyuehe.github.io/2020/10/24/react-shi-jian-ru-men/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/./images/avatar.jpg">
      <meta itemprop="name" content="忞月">
      <meta itemprop="description" content="今天你做了什么？">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="忞月の博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          react实践入门
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-10-24 22:44:20" itemprop="dateCreated datePublished" datetime="2020-10-24T22:44:20+08:00">2020-10-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-03-27 16:27:36" itemprop="dateModified" datetime="2021-03-27T16:27:36+08:00">2021-03-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/React/" itemprop="url" rel="index"><span itemprop="name">React</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="深入理解create-react-app"><a href="#深入理解create-react-app" class="headerlink" title="深入理解create-react-app"></a>深入理解<code>create-react-app</code></h2><ul>
<li>这是一个官方文档提供的新手使用的脚手架</li>
</ul>
<a id="more"></a>

<h3 id="新建工程"><a href="#新建工程" class="headerlink" title="新建工程"></a>新建工程</h3><pre class="line-numbers language-none"><code class="language-none">npx create-react-app my-app<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>在目标文件夹下打开shell命令行工具，写入上述语句，就可以在当前目录下新建一个react工程文件</li>
</ul>
<h3 id="工程目录解析"><a href="#工程目录解析" class="headerlink" title="工程目录解析"></a>工程目录解析</h3><ul>
<li>新建工程目录如下</li>
</ul>
<img data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/2020/10/24/react-shi-jian-ru-men/%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90.png" class="" title="文件目录解析">

<blockquote>
<ol>
<li><p><code>package-lock.josn</code>:项目依赖的安装包版本号</p>
</li>
<li><p><code>package.json</code>:node的包文件，可以让项目变为一个包,也安装了react，供<code>.js</code>文件引用</p>
</li>
<li><p><code>gitignore</code>:不想传到git仓库的文件可以放在这里</p>
</li>
<li><p>src:</p>
<ul>
<li><p>index.js：程序的运行入口</p>
<pre class="line-numbers language-none"><code class="language-none">import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from '.App';
//import reportWebVitals from './reportWebVitals';
//reportWebVitals();
//上面两个是一对用于PWA，增强web app功能
//还可以用相同的引入格式，引入其他文件<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>index.css：文件样式</p>
</li>
<li><p>App.js: </p>
<pre class="line-numbers language-none"><code class="language-none">improt './App.css';		//头部，等引入文件
...
export default App;		//引出文件，提供给别的.js文件引用<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>App.test.js: 自动化测试文件（函数式编程）</p>
</li>
</ul>
</li>
<li><p>public:</p>
<ul>
<li>index.html:</li>
<li>favicon.ico</li>
<li>manifest.json:定义快捷方式的图标（和pwa相配）</li>
</ul>
</li>
<li><p>node_modules:第三方的包，</p>
</li>
</ol>
</blockquote>
<h2 id="基础部分"><a href="#基础部分" class="headerlink" title="基础部分"></a>基础部分</h2><h3 id="定义组件"><a href="#定义组件" class="headerlink" title="定义组件"></a>定义组件</h3><h5 id="Component基类"><a href="#Component基类" class="headerlink" title="Component基类"></a>Component基类</h5><pre class="line-numbers language-js" data-language="js"><code class="language-js">improt <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token comment">//等价于,下面两句语句</span>
<span class="token comment">//import React from 'react';</span>
<span class="token comment">//const Component = React.Component;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>定义组件需要继承React.Component</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">import React from "react";
class App extends React.Component {
  render() {
    return &lt;div&gt;hello&lt;/div&gt;;
  }
}
export default App;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="主文件下"><a href="#主文件下" class="headerlink" title="主文件下"></a>主文件下</h5><ol>
<li>引用<code>import ReactDOM from 'react-dom';</code></li>
</ol>
<ul>
<li><p>ReactDOM用法</p>
</li>
<li><p>他是一个第三方组件，调用<code>render方法</code>将我们定义的组件挂载到html页面中</p>
</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">ReactDOM.render(&lt;App /&gt;, document.getElementById("root"));<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ol start="2">
<li>引入<code>import React from 'react';</code></li>
</ol>
<ul>
<li><p>React中包含<code>JSX</code>语法</p>
<blockquote>
<p><code>&lt;App /&gt;</code>：标签式语法</p>
<p><code>render(){}</code>: 函数中的标签也是JSX语法</p>
</blockquote>
</li>
</ul>
<h5 id="补充：简单jsx语法"><a href="#补充：简单jsx语法" class="headerlink" title="补充：简单jsx语法"></a>补充：简单jsx语法</h5><ol>
<li><p>支持.js文件中写类似H5的标签语法</p>
<blockquote>
<ul>
<li>大写字母开头，一般都是JSX语法定义的自定义组件</li>
<li>小写字母开头，一般是H5标签</li>
</ul>
</blockquote>
</li>
<li><p>jsx语法规定：外层必须要有一个div包裹内部的平级标签</p>
<blockquote>
<p>当然可以引入react中的<code>Fragment</code> 来代替外层div标签</p>
<pre class="line-numbers language-none"><code class="language-none">import React, { Component, Fragment } from 'react';
//render return内部就可以
&lt;Fragment&gt;
	....
&lt;/Fragment&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
</li>
</ol>
<h3 id="TodoList"><a href="#TodoList" class="headerlink" title="TodoList"></a>TodoList</h3><ol>
<li><p>如何实现组件化开发？</p>
</li>
<li><p>如何实现向子组件传递参数？</p>
</li>
<li><p>如何反馈父组件/调用父组件的函数？</p>
</li>
<li><p>如何理清函数的this指向问题？</p>
<blockquote>
<ul>
<li>箭头函数this指向，箭头函数定义的作用于下</li>
<li>不同函数的this指向，函数由那个对象调用</li>
</ul>
</blockquote>
</li>
<li><p>如何解决map，list中key的添加？</p>
</li>
<li><p>react中特殊属性？</p>
<blockquote>
<ol>
<li>label标签中<code>for id</code>的使用区别</li>
</ol>
<ul>
<li>由于for关键词的冲突，改用<code>htmlFor="..."</code></li>
<li>对应input标签，仍然是<code>id="...."</code></li>
</ul>
<ol start="2">
<li>防止转义的属性</li>
</ol>
<ul>
<li><code>dangerouslySetInnerHTML={{__html: item}}</code></li>
<li>item内容中的html标签内容非自动转义</li>
</ul>
</blockquote>
</li>
<li><p>如何优化代码结构？</p>
<blockquote>
<ul>
<li>结构化赋值<code>{content}=this.props</code>等价于<code>{this.props.content}</code></li>
<li>样式文件引入放在后面</li>
<li>组件初始化的时候就将函数<code>this</code> 指向改好</li>
<li>JSX体积过大，尽量拆分代码，用函数替换</li>
<li><code>this.setState</code> 改变状态时，使用<code>prevState</code>代替<code>this.state</code>;使用箭头函数的写法（加括号，简写return；不加括号写函数体）</li>
<li>使用列表时，注意key值（唯一性），（放在最外层）</li>
</ul>
</blockquote>
</li>
</ol>
<h3 id="react的思考"><a href="#react的思考" class="headerlink" title="react的思考"></a>react的思考</h3><ol>
<li>声明式开发</li>
<li>可以和其他框架并存</li>
<li>组件化</li>
<li>单向数据流</li>
<li>视图层框架</li>
<li>函数式编程</li>
</ol>
<h2 id="高级部分"><a href="#高级部分" class="headerlink" title="高级部分"></a>高级部分</h2><h3 id="PropTypes与DefaultProps"><a href="#PropTypes与DefaultProps" class="headerlink" title="PropTypes与DefaultProps"></a>PropTypes与DefaultProps</h3><ul>
<li>做组件接受属性时的强校验</li>
</ul>
<ol>
<li><p>引入PropTypes</p>
<pre class="line-numbers language-none"><code class="language-none">import PropTypes from 'prop-types'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>对属性进行强校验</p>
<pre class="line-numbers language-none"><code class="language-none">//PropTypes可以限制传值的类型
//限制对象中没有对应属性时，就不会校验也不会报错
TodoItem.propTypes = {
	content: PropTypes.string,
	deleteItem: PropTypes.func,
	index: PropTypes.number
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>强制传值</p>
<pre class="line-numbers language-none"><code class="language-none">// isRequired强制传值，如果没有就会报错
test: PropTypes.string.isRequired,<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>默认值</p>
<pre class="line-numbers language-none"><code class="language-none">// defalultProps 设置传值属性的默认值
TodoItem.defaultProps = {
	test: 'hello world',
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<ul>
<li>其他用法</li>
</ul>
<ol>
<li><p>PropTypes/.oneOfType([ ])</p>
<pre class="line-numbers language-none"><code class="language-none">//一个对象可以是几种类型中的任意一种
optionalUnion: PropTypes.oneOfType([
	PropsTypes.string,
	PropsTypes.number,
	PropsTypes.instanceof(Message),
])<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>PropTypes.element</p>
<pre class="line-numbers language-none"><code class="language-none">// 确保传递给组件的children只包含一个元素
MyComponent.propTypes = {
  children: PropTypes.element.isRequired
};<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>PropTypes.arrayOf(PropTypes.number)</p>
<pre class="line-numbers language-none"><code class="language-none">// 指定一个数组由某种类型的元素组成
optionalArrayOf: PropTypes.arrayOf(PropTypes.number),<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

</li>
</ol>
<h3 id="props-state-render之间的关系"><a href="#props-state-render之间的关系" class="headerlink" title="props,state,render之间的关系"></a>props,state,render之间的关系</h3><ul>
<li>当组件state和props发生变化时，render函数就会被重新执行</li>
<li>当父组件的render函数被执行时，子组件的render也会被重新执行</li>
</ul>
<h3 id="虚拟DOM"><a href="#虚拟DOM" class="headerlink" title="虚拟DOM"></a>虚拟DOM</h3><ul>
<li><p>一般的生成修改DOM的流程</p>
<blockquote>
<ol>
<li>state数据</li>
<li>JSX模板</li>
<li>数据 + 模板 生成真实的DOM，并显示出来</li>
<li>state发生变化</li>
<li>数据 + 模板 生成新的DOM替换原始的DOM</li>
</ol>
</blockquote>
</li>
</ul>
<p>缺陷：生成了两次DOM，替换了一次DOM十分耗性能</p>
<ul>
<li><p>改进方案</p>
<blockquote>
<ol>
<li>state数据</li>
<li>JSX模板</li>
<li>数据 + 模板 生成真实的DOM，并显示出来</li>
<li>state发生变化</li>
<li>数据 + 模板 生成新的DOM，不直接替换，而是和原始的比对，找差异</li>
<li>找到对应的差异部分，用新的DOM差异部分替换</li>
</ol>
</blockquote>
</li>
</ul>
<p>缺点：性能提升不明显</p>
<ul>
<li><p><strong>虚拟DOM</strong></p>
<blockquote>
<ol>
<li><p>state数据</p>
</li>
<li><p>JSX模板</p>
</li>
<li><p>生成虚拟DOM（虚拟DOM就是一个<strong>JS对象</strong>）</p>
</li>
<li><p>数据 + 模板 生成真实的DOM，并显示出来</p>
<p>eg:<code>['div', {id: 'abc'}, ['span', {}, 'hello world']]</code></p>
</li>
<li><p>state发生改变</p>
</li>
<li><p>数据 + 模板 生成新的虚拟DOM（<strong>极大性能的 提升</strong>）</p>
<p>eg:<code>['div', {id: 'abc'}, ['span', {}, 'hello minyue']]</code></p>
</li>
<li><p>比较原始虚拟DOM和新生成的虚拟DOM，找到区别（<strong>极大提升性能</strong>）</p>
</li>
<li><p>直接操作DOM,改变对应不同点</p>
</li>
</ol>
</blockquote>
</li>
<li><p><strong>JSX代码转换为真实DOM的历程</strong></p>
</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">JSX -&gt; createElement -&gt; 虚拟DOM（JS对象） -&gt; 渲染为真实DOM

// 下面两种写法等价
return &lt;div&gt; {index} &lt;/div&gt;

return React.createElement('div', {}, 'index');<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><p><strong>虚拟DOM的优点</strong></p>
<blockquote>
<ol>
<li>性能提升了</li>
<li>跨段应用得以实现，React Native（虚拟DOM可以被转换为原生的组件，在移动端使用）</li>
</ol>
</blockquote>
</li>
<li><p>虚拟DOM是如何比对的呢—<strong>diff算法</strong></p>
<blockquote>
<ol>
<li>从头开始，同级比对</li>
</ol>
<ul>
<li>如果某一级的内容出现差异，就直接替换下面所有内容</li>
</ul>
<ol start="2">
<li>key值的重要性</li>
</ol>
<ul>
<li>虚拟DOM比对时，对列表数据就可以只比较数据的 key值是否对应相等，提升比对性能</li>
</ul>
<ol start="3">
<li>补充</li>
</ol>
<ul>
<li>setState方法的异步设定的意义也在于，减少虚拟DOM比对的频繁性，提升性能</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="ref使用"><a href="#ref使用" class="headerlink" title="ref使用"></a>ref使用</h3><p>在input组件中<code>onChange</code> 属性调用的<code>handleInputChange(e)</code>输入参数使用<code>e.target</code> 就能获取对应inputDOM元素</p>
<ul>
<li>在react中是怎么获取DOM元素的呢？</li>
</ul>
<p>没错就是使用<code>ref</code> </p>
<pre class="line-numbers language-none"><code class="language-none">// 在input框架中添加属性ref
ref={(input) =&gt; {this.input = input}
// 之后我们就可以在handleInputChange函数中
this.input.value	//代替原来的e.target<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><strong>使用注意点</strong></li>
</ul>
<p>在ref使用时会和setState函数产生矛盾，因为setState函数是异步的，所以就有可能获取到的DOM元素是状态还没有改变前的内容，那么有什么解决办法呢？</p>
<pre class="line-numbers language-none"><code class="language-none">// 使用异步函数setState的回调函数，来获取DOM
// 回调函数中，确保setState已经执行
this.setState((prevState) =&gt; ({
	list: [...prevState, prevState.inputValue],
	inputValue: ''
}), () =&gt; {
	console.log(this.ul.querySelectorAll('div').length);
})<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>当然，React面向数据的操作，建议我们少直接操作DOM！！</li>
</ul>
<h3 id="生命周期函数"><a href="#生命周期函数" class="headerlink" title="生命周期函数"></a>生命周期函数</h3><ul>
<li><p>生命周期函数是指，某一时刻组件会自动调用执行的函数</p>
<blockquote>
<p>render  当数据发生变化时，会自动执行</p>
<p>constructor 初始化时自动执行的函数</p>
</blockquote>
</li>
</ul>
<img data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/2020/10/24/react-shi-jian-ru-men/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0.png" class="" title="生命周期函数">

<p><strong>分模块解释</strong></p>
<blockquote>
<ol>
<li>Initialization 初始化</li>
</ol>
<ul>
<li>constructor中的props和state</li>
</ul>
<ol start="2">
<li>Mounting 挂载</li>
</ol>
<ul>
<li>componentWillMount </li>
<li>render 页面第一次挂载</li>
<li>componentDidMount</li>
</ul>
<ol start="3">
<li>Updation 更新</li>
</ol>
<ul>
<li><p>props</p>
<ul>
<li>componentWillReceiveProps（对子组件有用）<ol>
<li>子组件接受父组件的props </li>
<li>组件非第一次存在父组件，才会执行</li>
</ol>
</li>
<li>shouldComponentUpdate（是否更新）<ol>
<li>需要返回一个布尔值</li>
<li>true才会执行后面的步骤</li>
</ol>
</li>
<li>componentWillUpdate（编译前执行）</li>
<li>render</li>
<li>componentDidUpdate（编译后执行）</li>
</ul>
</li>
<li><p>states  没有第一步</p>
</li>
<li><p>每一个组件都有自己的生命周期函数！！</p>
</li>
</ul>
</blockquote>
<h3 id="生命周期函数使用场景"><a href="#生命周期函数使用场景" class="headerlink" title="生命周期函数使用场景"></a>生命周期函数使用场景</h3><ul>
<li>render不可缺少<ul>
<li>由于组件都是继承于<code>Component</code> ，其中都内置了其余的生命周期函数，但唯一没有<code>render</code></li>
</ul>
</li>
</ul>
<h4 id="提升性能"><a href="#提升性能" class="headerlink" title="提升性能"></a>提升性能</h4><blockquote>
<p>之前我们需要的提升性能的点：</p>
<ol>
<li>函数作用域绑定在constructor中完成</li>
<li>列表key值的绑定，diff算法</li>
<li>setState异步函数</li>
</ol>
</blockquote>
<ul>
<li><p><strong>shouldComponentUpdate使用</strong></p>
<ul>
<li>我们都知道，父组件render函数改变时，会连带子组件的render函数也重新渲染，但是当我们没有提交改变内容时，我们不需要子组件渲染，如何解决？</li>
<li>使用这个生命周期函数，停止渲染</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">shouldComponentUpdate(nextProps, nextState) {
	if(nextProps.content !== this.props.content) {
		return true;
	} else {
		return false;
	}
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


</li>
</ul>
<h4 id="发送ajax请求"><a href="#发送ajax请求" class="headerlink" title="发送ajax请求"></a>发送ajax请求</h4><blockquote>
<p>在网页不重载的情况下，改变网页内容，ajax请求只用一次，获取到数据留用就行了，所以找一个有且执行一次的生命周期函数</p>
<ul>
<li>componentWillMount，constructor等有些些不便的原因（其他端产生冲突）</li>
</ul>
</blockquote>
<ol>
<li>首先，在react中发送ajax请求需要安装第三方插件</li>
</ol>
<pre class="line-numbers language-none"><code class="language-none">npm install axios
//安装之后重新打开项目
npm start<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<ol start="2">
<li>在页面中引入axios组件</li>
</ol>
<pre class="line-numbers language-none"><code class="language-none">import axios from "axios";<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ol start="3">
<li>**componentDidMount()**中添加请求</li>
</ol>
<pre class="line-numbers language-none"><code class="language-none">componentDidMount() {
	axios.get('/api/todolist')
		.then(()=&gt;alert('success'))
		.catch(()=&gt;alert('error'));
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>显然没有这个接口，返回弹窗error，在network中可以看到确实发送了请求，返回<code>404</code></li>
</ul>
<h3 id="使用fiddler实现本地数据mock"><a href="#使用fiddler实现本地数据mock" class="headerlink" title="使用fiddler实现本地数据mock"></a>使用fiddler实现本地数据mock</h3><ul>
<li>前后端分离的开发，让前端人员要自己模拟后端数据，这里我们使用fiddler工具</li>
</ul>
<blockquote>
<ul>
<li><p>新建一个.json文件，放入数据</p>
</li>
<li><p>刷新react项目页面，可以找到请求的链接</p>
</li>
<li><p>双击该请求，在右方详情页中选择AutoResponder,然后勾选前两个复选框Enable rules和Unmatched requests passthrough,点击Add Rule，在Rule Editor的第二个input框中复制本地文件链接，点击save，勾选下方的If request中新建的rule</p>
</li>
</ul>
</blockquote>
<pre class="line-numbers language-none"><code class="language-none">//简单的使用：将数据默认显示在list中
componentDidMount() {
	axios
		.get("/api/todolist")
		.then((res)=&gt;{
			this.setState(()=&gt;({list:[...res.list]}));
		})
		.catch(()=&gt;alert("error"));
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

  <img data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/2020/10/24/react-shi-jian-ru-men/fiddler.png" class="" title="fiddler">

<h3 id="React实现CSS过渡效果"><a href="#React实现CSS过渡效果" class="headerlink" title="React实现CSS过渡效果"></a>React实现CSS过渡效果</h3><ul>
<li><p>这里过渡效果以交替呈现的示例就引入<code>.css</code> 文件</p>
<blockquote>
<p>写入两个类一个描述透明度<code>.show,</code>一个描述<code>.hide</code></p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.show</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> all 1s ease-in<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.hide</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> all 1s ease-in<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
</li>
<li><p>在<code>js</code>文件中</p>
<blockquote>
<ol>
<li>state中创建一个布尔变量属性</li>
<li>按钮，对state的布尔值改变</li>
<li>对应className就根据state变量改变样式类</li>
</ol>
</blockquote>
</li>
</ul>
<h3 id="React使用CSS动画效果"><a href="#React使用CSS动画效果" class="headerlink" title="React使用CSS动画效果"></a>React使用CSS动画效果</h3><ul>
<li>动画效果就是引入动画模块<code>@keyframes</code>，<code>animation</code>属性</li>
<li><strong>值得注意的地方</strong>：加上<code>forwards</code>(保留最后一帧动画效果)</li>
</ul>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.show</span> <span class="token punctuation">{</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> show-item 2s ease-in forwards<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.hide</span> <span class="token punctuation">{</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> hide-item 2s ease-in forwards<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

//show-item 同下
//....
<span class="token atrule"><span class="token rule">@keyframes</span> hide-item</span> <span class="token punctuation">{</span>
  <span class="token selector">0%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">50%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0.5<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">100%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="使用React-transition-group"><a href="#使用React-transition-group" class="headerlink" title="使用React-transition-group"></a>使用React-transition-group</h3><ul>
<li>进入github，搜索<a target="_blank" rel="noopener" href="https://reactcommunity.org/react-transition-group/">React-transition-group</a></li>
</ul>
<ol>
<li><p>安装这个模块</p>
<pre class="line-numbers language-none"><code class="language-none">npm install react-transition-group --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>引入这个模块</p>
<pre class="line-numbers language-none"><code class="language-none">import { CSSTransition } from 'react-transition-group';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>使用<code>&lt;CSSTransition&gt; &lt;/CSSTransition&gt;</code>包裹需要样式的”html元素”</p>
<ul>
<li><p>他帮助我们完成样式的更改添加</p>
</li>
<li><p>注意他的属性！！！</p>
<blockquote>
<ul>
<li> in={this.state.show}: 动画执行的标志</li>
<li> timeout={1000}：动画执行时长</li>
<li>classNames=”fade”：类名前缀</li>
<li>unmountOnExit：exit后动画元素删除</li>
<li>appear={true}： 首次渲染时也添加动画</li>
</ul>
</blockquote>
</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">&lt;CSSTransition
	in={this.state.show}
	timeout={1000}
  classNames="fade"
  unmountOnExit
  appear={true}
	&gt;
	&lt;div&gt;hello&lt;/div&gt;
&lt;/CSSTransition&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

</li>
</ol>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">//对应CSS文件
//存在enter和exit就可以了
//如果appear=</span><span class="token punctuation">{</span>true<span class="token punctuation">}</span><span class="token selector">，就加上.fade-appear等类
.fade-enter,
.fade-appear</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.fade-enter-active,
.fade-appear-active</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> opacity 1s ease-in<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.fade-enter-done,
.fade-appear-done</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.fade-exit</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.fade-exit-active</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span> opacity 1s ease-in<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.fade-exit-done</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><p>另外，一些<strong>钩子函数</strong></p>
<blockquote>
<p><strong>也是添加在属性中</strong></p>
<p>钩子：和生命周期函数一样的，特定时间发生！！</p>
<ol>
<li>onEnter</li>
</ol>
<ul>
<li>进入的第一时刻</li>
</ul>
<ol start="2">
<li>onEntering</li>
</ol>
<ul>
<li>进入的动画时间</li>
</ul>
<ol start="3">
<li>onEntered</li>
</ol>
<ul>
<li>进入结束时</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">&gt;//进入结束后出发的函数
&gt;onEntered={(er)=&gt;{el.style.color='blue'}}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<ul>
<li>同样对于exit</li>
</ul>
</blockquote>
</li>
</ul>
<ol start="4">
<li><strong>TransitionGroup</strong></li>
</ol>
<ul>
<li><p>对于一组一组的添加动画效果时，需要配合<code>TransitionGroup</code> 使用</p>
<blockquote>
<ul>
<li>下面以点击按钮，添加item的一组效果</li>
</ul>
<ol>
<li>这里就要把show改为list</li>
<li>点击按钮，函数操作改为在原有list末尾添加一个元素</li>
<li>样式部分<code>&lt;TransitionGroup&gt;</code>放在list遍历外部，<code>&lt;CSSTransition&gt;</code>放在对应小组件的外层</li>
</ol>
</blockquote>
</li>
</ul>
<img data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/2020/10/24/react-shi-jian-ru-men/TransitionGroup.png" class="" title="TransitionGroup"> 

<h2 id="Redux入门"><a href="#Redux入门" class="headerlink" title="Redux入门"></a>Redux入门</h2><ul>
<li>和react配套使用的数据层框架</li>
<li>使用redux，我们将数据都存放在Store中，当一个组件改变了Stroe中的数据，其他组件就会自动感知数据的变化做出反应</li>
</ul>
<h3 id="Redux工作流"><a href="#Redux工作流" class="headerlink" title="Redux工作流"></a>Redux工作流</h3><img data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/2020/10/24/react-shi-jian-ru-men/Redux.png" class="" title="Redux">

<ul>
<li>举例把这个流程理解成图书馆的流程</li>
</ul>
<ol>
<li>react component：借书的人</li>
<li>action creaters：询问管理员要借哪一本书</li>
<li>store：图书管理员</li>
<li>reducers：图书管理员的记录资料</li>
</ol>
<h3 id="Antd页面布局"><a href="#Antd页面布局" class="headerlink" title="Antd页面布局"></a>Antd页面布局</h3><ul>
<li><a target="_blank" rel="noopener" href="https://ant.design/components/overview-cn/">官网地址</a></li>
</ul>
<ol>
<li><p>安装</p>
<pre class="line-numbers language-none"><code class="language-none">//使用npm
$ npm install antd --save<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>简单使用</p>
<blockquote>
<ul>
<li><p>引用样式和你所需要的组件</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token string">"antd/dist/antd.css"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Input<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> List <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"antd"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>根据文档中的使用代码方法使用就可以了</p>
</li>
</ul>
</blockquote>
</li>
</ol>
<h3 id="redux中的store"><a href="#redux中的store" class="headerlink" title="redux中的store"></a>redux中的store</h3><ol>
<li>安装redux核心库</li>
</ol>
<pre class="line-numbers language-none"><code class="language-none">npm install redux<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ol start="2">
<li><p>在项目src目录下创建store文件夹</p>
<ul>
<li>index.js(存储仓库，图书管理员)</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">//引入创建库的函数
//引入reducer

import { createStore } from 'redux';
import reducer from './reducer';

const store = createStore(reducer);
export default store;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>reducter.js(图书记录本)</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">//返回一个函数
//state:图书馆书籍信息,有一个默认值
//action:一个个借书操作

const defaultState = {
	inputValue = '',
	list: []
}
export default (state = defaultState, action) = {
	return state;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>在容器组件中引入store</p>
<pre class="line-numbers language-none"><code class="language-none">//文件目录下的index.js文件可以默认不写

import store from './store';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>引用数据 <code>getStore()</code></p>
<pre class="line-numbers language-none"><code class="language-none">//返回一个存有数据的对象

this.state = store.getStore()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>发送action <code>store.dispatch(action)</code></p>
<pre class="line-numbers language-none"><code class="language-none">//写一个实例函数

handleInputChange(e) {
	const action = {
		type: 'change_input_value',
		value: e.target.value,
	}
	store.dispatch(action)
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>reducer处理程序</p>
<pre class="line-numbers language-none"><code class="language-none">//reducer的函数中处理对应的action
//reducer需要深拷贝state
//store中的数据，由返回的newState在index.js
中替换旧state时，才被修改
if(action === 'change_input_value') {
	const newState = JSON.parse(JSON.stringify(state));
	newState.inputValue = action.value;
	return newState;
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>容器组件中同步store数据的修改</p>
<pre class="line-numbers language-none"><code class="language-none">//constructor中监视store的改变
store.subscribe(this.handleStore);

//函数功能：替换state
handleStore() {
	this.setState(store.getStore());
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<ul>
<li><strong>其他功能类似</strong></li>
</ul>
<h3 id="代码优化"><a href="#代码优化" class="headerlink" title="代码优化"></a>代码优化</h3><ol>
<li><p><strong>actionTypes.js</strong></p>
<ul>
<li>集中管理各个action名称（避免书写错误带来的麻烦）</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">//store目录下新建一个actionTpes.js

export const CHANGE_INPUT_VALUE = 'change_input_value'
.....

//使用时，引入
import { CHANGE_INPUT_VALUE } from 'src'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p><strong>actionCreater.js</strong></p>
<ul>
<li>集中管理action</li>
</ul>
<pre class="line-numbers language-react" data-language="react"><code class="language-react">//对每一个action对象，都进行这样的封装，返回一个对象
export const getInputChangeAction = (value) =&gt; ({
	type: CHANGE_INPUT_VALUE,
	value
});

//使用时

import { getInputChangeAction } from 'src';

handleInputChange(e) {
	const action = getInputChangeAction(e.target.value);
	store.dispatch(action);
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

</li>
</ol>
<h3 id="redux总结"><a href="#redux总结" class="headerlink" title="redux总结"></a>redux总结</h3><ol>
<li><p>store是惟一的，也只有index.js中才能改变store中的数据</p>
</li>
<li><p>reducer是一个纯函数，（给定输入，一定有固定输出，而且不会产生副作用）</p>
</li>
<li><p>核心API</p>
<table>
<thead>
<tr>
<th>API</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>createStore</td>
<td>index.js创建仓库</td>
</tr>
<tr>
<td>store.dispatch</td>
<td>传递action</td>
</tr>
<tr>
<td>store.getState</td>
<td>获取store数据对象</td>
</tr>
<tr>
<td>store.subscribe</td>
<td>捕捉store改变</td>
</tr>
</tbody></table>
</li>
</ol>
<h2 id="Redux进阶"><a href="#Redux进阶" class="headerlink" title="Redux进阶"></a>Redux进阶</h2><h3 id="UI组件-容器组件-无状态组件"><a href="#UI组件-容器组件-无状态组件" class="headerlink" title="UI组件/容器组件/无状态组件"></a>UI组件/容器组件/无状态组件</h3><ul>
<li>一个负责逻辑，一个负责渲染</li>
<li>无状态组件就是函数组件，性能更好</li>
</ul>
<blockquote>
<p>将渲染部分（render函数内部）独立出来一个分支</p>
<p><strong>TodoListUI.js</strong></p>
</blockquote>
<pre class="line-numbers language-react" data-language="react"><code class="language-react">//引入样式文件和react文件
import { Input, Button, List } from "antd";
import React from "react";

//仅仅只负责渲染我们可以使用无状态组件（无需创建类）
//箭头函数输入props，就使用props代替this.props
const TodoListUI = (props) =&gt; {
	return (
		.....//JSX语法	
	);
};

//对应render函数
render() {
	return(
		&lt;TodoListUI
       inputValue={this.state.inputValue}
       list={this.state.list}
       handleInputChange={this.handleInputChange}
       handleClickBtn={this.handleClickBtn}
       handleDeleteItem={this.handleDeleteItem}
     /&gt;
	);
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="redux-thunk-中间件实现ajax请求"><a href="#redux-thunk-中间件实现ajax请求" class="headerlink" title="redux-thunk 中间件实现ajax请求"></a>redux-thunk 中间件实现ajax请求</h3><ul>
<li>之前我们使用ajax请求，是将代码放在componentDidMount函数中</li>
<li>但是当异步操作变多时，函数中的代码就会变得多到难以调试</li>
</ul>
<blockquote>
<p>我们引入这个中间件来时我们</p>
</blockquote>
<ol>
<li><p>首先下载这个中间件包</p>
<pre class="line-numbers language-none"><code class="language-none">npm install redux-thunk;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>解决和redux并行使用的问题</p>
<pre class="line-numbers language-react" data-language="react"><code class="language-react">//在github中 redux-devtools文档中
//引入thunk包，compose等api
//

import { createStore, applyMiddleware, compose } from "redux";
import thunk from "redux-thunk";

const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__
  ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})
  : compose;
const enhancer = composeEnhancers(applyMiddleware(thunk));

const store = createStore(reducer, enhancer);
export default store;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>actionCreater中实现异步函数调用</p>
<pre class="line-numbers language-react" data-language="react"><code class="language-react">//返回的getTodoList()是一个函数
//并且这个函数接受了前面传来的dispatch

export const initListAction = (data) =&gt; ({
  type: INIT_LIST_ACTION,
  data,
});
export const getTodoList = () =&gt; {
  return (dispatch) =&gt; {
    axios.get("/api/todolist").then((res) =&gt; {
      const data = res.data;
      const action = initListAction(data);
      dispatch(action);
    });
  };
};<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>componentDidMount</p>
<pre class="line-numbers language-react" data-language="react"><code class="language-react">//因为有redux-thunk存在，action可以是一个函数
//在第5句中自动执行该函数（并且引入dispatch参数）

componentDidMount() {
  const action = getTodoList();
  store.dispatch(action);
}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

</li>
</ol>
<h3 id="redux-saga中间件异步操作"><a href="#redux-saga中间件异步操作" class="headerlink" title="redux-saga中间件异步操作"></a>redux-saga中间件异步操作</h3><ol>
<li><p>安装</p>
<pre class="line-numbers language-none"><code class="language-none">$ npm install redux-saga<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>store目录下新建一个<code>sagas.js</code></p>
<pre class="line-numbers language-none"><code class="language-none">function* mySaga() {
  //...
}
export default mySaga;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>index.js文件中引入中间件</p>
<pre class="line-numbers language-react" data-language="react"><code class="language-react">//和thunk很像，仿照官方文档

import { createStore, applyMiddleware, compose } from "redux";
import reducer from "./reducer";
import createSagaMiddleware from "redux-saga";
import mySaga from "./sagas";

// create the saga middleware
const sagaMiddleware = createSagaMiddleware();

const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__
  ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})
  : compose;
const enhancer = composeEnhancers(applyMiddleware(sagaMiddleware));

const store = createStore(reducer, enhancer);
sagaMiddleware.run(mySaga);

export default store;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>componentDidMount</p>
<pre class="line-numbers language-react" data-language="react"><code class="language-react">//和原生用法类似
const action = getInitList();
store.dispatch(action);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>actionCreater</p>
<pre class="line-numbers language-react" data-language="react"><code class="language-react">//创建对应的action对象
//但注意这个action的处理程序不在reducer，而在sagas.js中

export const getInitList = () =&gt; ({
  type: GET_INIT_LIST,
});<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>sagas.js文件</p>
<pre class="line-numbers language-react" data-language="react"><code class="language-react">// 参照官方文档

import { takeEvery, put } from "redux-saga/effects";
import { GET_INIT_LIST } from "./actionType";
import axios from "axios";
import { initListAction } from "./actionCreater";
function* getInitList() {
  try {
    const res = yield axios.get("/api/todolist");
    const action = initListAction(res.data);
    yield put(action);
  } catch (e) {
    console.log("404");
  }
}
//generator函数 书写形式
//takeEvery可以捕获每一次的action类型
//下面函数功能：一旦接受到GET_INIT_LIST类型的action时
//就会执行fetchUser方法
function* mySaga() {
  yield takeEvery(GET_INIT_LIST, getInitList);
}

export default mySaga;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<ul>
<li>将异步处理程序迁移到<code>sagas.js</code>文件中处理</li>
</ul>
<h3 id="redux中间件"><a href="#redux中间件" class="headerlink" title="redux中间件"></a>redux中间件</h3><ul>
<li>在action和store中间，对store的dispatch方法的升级</li>
<li>thunk中间件，action可以是一个函数 并接收一个dispath函数，dispatch会让其异步执行；当然如果不是函数就按原逻辑执行</li>
<li>redux-log：对dispatch每次派发的时候进行console.log()，即打印日志</li>
<li>redux-saga：单独对异步逻辑拆分出来放在一个文件管理</li>
</ul>
<img data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="/2020/10/24/react-shi-jian-ru-men/redux%E4%B8%AD%E9%97%B4%E4%BB%B6.png" class="" title="redux中间件"> 

<blockquote>
<p><strong>流程分析</strong></p>
<ol>
<li><p>thunk 中间件</p>
<blockquote>
<p>dispatch一个action<br>action可以是一个函数 并接收一个dispath函数<br>可以在action的函数中进行异步操作<br>接受到数据后再dispatch一个action 此action必须是一个对象包含type和数据<br>reducer拦截到action的type和数据返回新的state</p>
</blockquote>
</li>
<li><p>saga 中间件</p>
<blockquote>
<p>dispatch一个action<br>action只能是对象 并且type必须是reducer没有的<br>sagas.js拦截此type并执行另一个函数进行异步操作<br>接受到数据后再dispatch一个action 并且type必须是reducer存在的<br>reducer拦截到action的type和数据返回新的state</p>
</blockquote>
</li>
<li><p>原生</p>
<blockquote>
<p>在componentDidMount生命周期函数里 执行异步操作 接受到数据后dispatch一个action<br>此action必须是一个对象包含type和数据<br>reducer拦截到action的type和数据返回新的state</p>
</blockquote>
</li>
</ol>
</blockquote>
<h3 id="react-redux"><a href="#react-redux" class="headerlink" title="react-redux"></a>react-redux</h3><ol>
<li><p>安装</p>
<pre class="line-numbers language-none"><code class="language-none">npm install react-redux<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p><strong>Provider</strong></p>
<ul>
<li>第一个核心API</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">  // 在index.js中引入
  import { provider } from 'react-redux';
  import store from './store';
  ....
  
  //provider将自己有的属性提供给内部所有组件
  //将store引入内部的组件中
  //注意，jsx语法块用括号包裹
  const App = (
&lt;Provider store={store}&gt;
  		&lt;TodoList /&gt;
  	&lt;/Provider&gt;
  )
  ReactDOM.render(App, document.getElementById("root"));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p><strong>connect</strong></p>
<ul>
<li>第二个核心API</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">//TodoList.js实现连接关系
// (1)数据获取的连接
const mapStateToProps = (state) =&gt; {
	return {
		inputValue: state.inputValue,
	}
}
// (2)改变数据方法的连接
const mapDsipatchToProps = (dispatch) =&gt; {
	return {
		handleInputChange(e) {
			const action = {
        type: "change_input_value",
        value: e.target.value,
      };
      dispatch(action);
		}
	}
}

export default connect(mapStateToProps, mapDsipatchToProps)(TodoList);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li><p>这样不管是读，还是写都可以直接通过</p>
<p><code>this.props.inputValue</code></p>
<p><code>this.props.handleInputChange</code></p>
<p>来调用</p>
</li>
</ul>
</li>
</ol>
<blockquote>
<p>我们可以发现 ，<todolist>组件就是一个UI组件，connect函数引用了UI组件，加上对store的调用相当于返回了一个容器组件</todolist></p>
</blockquote>
<ol start="4">
<li><p>优化代码</p>
<blockquote>
<ol>
<li><p>actioncreater.js :</p>
<pre class="line-numbers language-none"><code class="language-none">export const ....一个个函数<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>actionTypes.js :</p>
<pre class="line-numbers language-none"><code class="language-none">export const 宏定义赋值<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>UI组件用函数组件（无状态组件代替）</p>
</li>
<li><p>结构化赋值</p>
<pre class="line-numbers language-none"><code class="language-none">const {
  inputValue,
  handleInputChange,
  handleClickBtn,
  list,
  handleDeleteItem,
} = props;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
</blockquote>
</li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%AE%9E%E8%B7%B5/" rel="tag"><i class="fa fa-tag"></i> 实践</a>
              <a href="/tags/react/" rel="tag"><i class="fa fa-tag"></i> react</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/10/19/react-guan-fang-wen-dang-ru-men-xue-xi/" rel="prev" title="React官方文档入门学习">
      <i class="fa fa-chevron-left"></i> React官方文档入门学习
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/10/29/ajax-fetch-axios/" rel="next" title="Ajax,fetch,axios">
      Ajax,fetch,axios <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="lv-container" data-id="city" data-uid="MTAyMC81MTYzMS8yODExMg=="></div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3create-react-app"><span class="nav-number">1.</span> <span class="nav-text">深入理解create-react-app</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B0%E5%BB%BA%E5%B7%A5%E7%A8%8B"><span class="nav-number">1.1.</span> <span class="nav-text">新建工程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A5%E7%A8%8B%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90"><span class="nav-number">1.2.</span> <span class="nav-text">工程目录解析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86"><span class="nav-number">2.</span> <span class="nav-text">基础部分</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6"><span class="nav-number">2.1.</span> <span class="nav-text">定义组件</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Component%E5%9F%BA%E7%B1%BB"><span class="nav-number">2.1.0.1.</span> <span class="nav-text">Component基类</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%BB%E6%96%87%E4%BB%B6%E4%B8%8B"><span class="nav-number">2.1.0.2.</span> <span class="nav-text">主文件下</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%EF%BC%9A%E7%AE%80%E5%8D%95jsx%E8%AF%AD%E6%B3%95"><span class="nav-number">2.1.0.3.</span> <span class="nav-text">补充：简单jsx语法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TodoList"><span class="nav-number">2.2.</span> <span class="nav-text">TodoList</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#react%E7%9A%84%E6%80%9D%E8%80%83"><span class="nav-number">2.3.</span> <span class="nav-text">react的思考</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E9%83%A8%E5%88%86"><span class="nav-number">3.</span> <span class="nav-text">高级部分</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PropTypes%E4%B8%8EDefaultProps"><span class="nav-number">3.1.</span> <span class="nav-text">PropTypes与DefaultProps</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#props-state-render%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-number">3.2.</span> <span class="nav-text">props,state,render之间的关系</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%99%9A%E6%8B%9FDOM"><span class="nav-number">3.3.</span> <span class="nav-text">虚拟DOM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ref%E4%BD%BF%E7%94%A8"><span class="nav-number">3.4.</span> <span class="nav-text">ref使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="nav-number">3.5.</span> <span class="nav-text">生命周期函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">3.6.</span> <span class="nav-text">生命周期函数使用场景</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8F%90%E5%8D%87%E6%80%A7%E8%83%BD"><span class="nav-number">3.6.1.</span> <span class="nav-text">提升性能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%91%E9%80%81ajax%E8%AF%B7%E6%B1%82"><span class="nav-number">3.6.2.</span> <span class="nav-text">发送ajax请求</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8fiddler%E5%AE%9E%E7%8E%B0%E6%9C%AC%E5%9C%B0%E6%95%B0%E6%8D%AEmock"><span class="nav-number">3.7.</span> <span class="nav-text">使用fiddler实现本地数据mock</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#React%E5%AE%9E%E7%8E%B0CSS%E8%BF%87%E6%B8%A1%E6%95%88%E6%9E%9C"><span class="nav-number">3.8.</span> <span class="nav-text">React实现CSS过渡效果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#React%E4%BD%BF%E7%94%A8CSS%E5%8A%A8%E7%94%BB%E6%95%88%E6%9E%9C"><span class="nav-number">3.9.</span> <span class="nav-text">React使用CSS动画效果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8React-transition-group"><span class="nav-number">3.10.</span> <span class="nav-text">使用React-transition-group</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redux%E5%85%A5%E9%97%A8"><span class="nav-number">4.</span> <span class="nav-text">Redux入门</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Redux%E5%B7%A5%E4%BD%9C%E6%B5%81"><span class="nav-number">4.1.</span> <span class="nav-text">Redux工作流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Antd%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80"><span class="nav-number">4.2.</span> <span class="nav-text">Antd页面布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#redux%E4%B8%AD%E7%9A%84store"><span class="nav-number">4.3.</span> <span class="nav-text">redux中的store</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96"><span class="nav-number">4.4.</span> <span class="nav-text">代码优化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#redux%E6%80%BB%E7%BB%93"><span class="nav-number">4.5.</span> <span class="nav-text">redux总结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Redux%E8%BF%9B%E9%98%B6"><span class="nav-number">5.</span> <span class="nav-text">Redux进阶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#UI%E7%BB%84%E4%BB%B6-%E5%AE%B9%E5%99%A8%E7%BB%84%E4%BB%B6-%E6%97%A0%E7%8A%B6%E6%80%81%E7%BB%84%E4%BB%B6"><span class="nav-number">5.1.</span> <span class="nav-text">UI组件&#x2F;容器组件&#x2F;无状态组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#redux-thunk-%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AE%9E%E7%8E%B0ajax%E8%AF%B7%E6%B1%82"><span class="nav-number">5.2.</span> <span class="nav-text">redux-thunk 中间件实现ajax请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#redux-saga%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C"><span class="nav-number">5.3.</span> <span class="nav-text">redux-saga中间件异步操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#redux%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="nav-number">5.4.</span> <span class="nav-text">redux中间件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#react-redux"><span class="nav-number">5.5.</span> <span class="nav-text">react-redux</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="忞月"
      src="/./images/avatar.jpg">
  <p class="site-author-name" itemprop="name">忞月</p>
  <div class="site-description" itemprop="description">今天你做了什么？</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">38</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">34</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/minyue-hcm" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;minyue-hcm" rel="noopener" target="_blank"><i class="fa fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>
      
        <script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script>
        <script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script>
        <div class="widget-wrap">
            <div id="myCanvasContainer" class="widget tagcloud">
                <canvas width="250" height="250" id="resCanvas" style="width:100%">
                    <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS-Module/" rel="tag">CSS Module</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS-tips/" rel="tag">CSS tips</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flex%E5%B8%83%E5%B1%80/" rel="tag">Flex布局</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/" rel="tag">Markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OAuth/" rel="tag">OAuth</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Promise/" rel="tag">Promise</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSR/" rel="tag">SSR</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cookie/" rel="tag">cookie</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gitbub/" rel="tag">gitbub</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iconfont/" rel="tag">iconfont</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js%E5%9F%BA%E7%A1%80/" rel="tag">js基础</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js%E5%BC%82%E6%AD%A5/" rel="tag">js异步</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/" rel="tag">node</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/" rel="tag">react</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-hook/" rel="tag">react hook</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react%E5%9F%BA%E7%A1%80/" rel="tag">react基础</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/socket/" rel="tag">socket</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue2-x/" rel="tag">vue2.x</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue3/" rel="tag">vue3</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/" rel="tag">webpack</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9A%E6%97%B6%E5%99%A8/" rel="tag">定时器</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9E%E6%88%98/" rel="tag">实战</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9E%E8%B7%B5/" rel="tag">实践</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/" rel="tag">小程序</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" rel="tag">浏览器</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/" rel="tag">移动端</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag">网络</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" rel="tag">网络请求</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%89%E7%BA%A7/" rel="tag">计算机三级</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a><span class="tag-list-count">1</span></li></ul>
                </canvas>
            </div>
        </div>
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">忞月</span>
</div>
<!--
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

-->

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>
    <script defer src="/lib/three/canvas_sphere.min.js"></script>


  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>













  

  

<script>
NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  window.livereOptions = {
    refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});
</script>

<script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=i;var e=n.imageLazyLoadSetting.isSPA,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function i(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight||document.documentElement.clientHeight)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},n.src=i}()}i(),n.addEventListener("scroll",function(){var t,e;t=i,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body>
</html>
